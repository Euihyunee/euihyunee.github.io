---
title: "📋 RDB vs NoSQL "
date: 2025-02-05 09:30 +0900
categories: [Database]
tags: [RDB, NoSQL]
---

> 2025년 데이터베이스 시장의 통계는 약 80% 이상이 RDB와 NoSQL이 점유하고 있습니다. RDB는 약 55%, NoSQL은 약 30%로 여전히 많이 사용하고 있습니다. 오늘은 RDB와 NoSQL의 차이는 무엇인지 알아보겠습니다.

## RDB란?

RDB(Releational Database)는 관계형 데이터베이스를 지칭하며 RDBMS(Releational Database Management System)를 가지고 RDB를 유지하고 관리하는 시스템을 구축합니다.

RDB를 통하여 데이터베이스를 구축하는 틀을 제공하고, 효율적으로 데이터를 검색/저장/수정/삭제 등의 기능을 제공합니다. 또한, 데이터 집합(테이블)의 관계를 구현하여 여러 개의 테이블을 조합해 원하는 데이터를 찾아올 수 있습니다. 

### RDB의 Table 구조

먼저, RDB의 데이터 저장 방식은 테이블 구조입니다. 행과 열로 이루어진 2차원 테이블에 고유한 아이디를 넣어 중복없이 데이터를 넣을 수 있습니다. 

![table.png](https://github.com/Euihyunee/euihyunee.github.io/blob/main/_posts/img/table.png?raw=true)

> 테이블의 구조를 스키마라고 합니다. 스키마는 테이블의 구조뿐만 아니라 데이터베이스 전체의 논리적 구조를 포함합니다. 

각각의 테이블은 다음과 같이 관계를 맺을 수 있습니다.

![relation_table.png](https://github.com/Euihyunee/euihyunee.github.io/blob/main/_posts/img/relation_table.png?raw=true)

### RDB의 ACID

RDB의 ACID는 데이터베이스 트랜잭션의 신뢰성과 일관성을 보장하기 위한 네 가지 주요 특성을 나타냅니다. ACID에 대해서는 트랜잭션과 함께 다음에 다루겠습니다.

> 트랜잭션은 간단하게 말해 데이터베이스에서 수행되는 작업의 완전한 단위입니다. 트랜잭션을 통해 데이터베이스의 상태를 변화시킬 수 있습니다.

1. 원자성(Atomicity):  
원자성은 트랜잭션의 모든 작업이 완전히 수행되거나 전혀 수행되지 않아야 함을 의미합니다. 즉, 트랜잭션은 "모 아니면 도"의 원칙을 따릅니다. 예를 들어, 송금 과정에서 오류가 발생하면 전체 트랜잭션이 취소되어 이전 상태로 롤백됩니다.

2. 일관성(Consistency):  
일관성은 트랜잭션이 실행 전과 후에 데이터베이스가 일관된 상태를 유지해야 함을 의미합니다. 기존의 데이터베이스가 정상이라면 트랜잭션을 수행 후에도 정상이여야 합니다.

3. 격리성(Isolation):  
격리성은 동시에 실행되는 여러 트랜잭션이 서로 영향을 미치지 않고 독립적으로 실행되는 것처럼 보이도록 보장합니다. 계좌에서 돈을 출금하는 트랜잭션이 반영되기 전에 다른 트랜잭션이 계좌 잔액을 조회하면 금액에서 정확한 금액을 조회할 수 없습니다. 

4. 지속성(Durability):  
지속성은 성공적으로 완료된 트랜잭션의 결과가 영구적으로 데이터베이스에 저장되어야 함을 의미합니다. 이는 시스템 장애나 전원 오류와 같은 예기치 않은 상황에서도 데이터의 안전성을 보장합니다.

### RDB의 장점

- 스키마로 구조가 정해져 있기에 명확한 데이터 구조를 보장합니다.
- 테이블의 데이터는 고유한 값을 가지는 아이디로 중복없이 저장 가능합니다. 중복이 없기에 저장 공간을 절약하며, 정규화를 통해 데이터를 효율적으로 구조화합니다.
- 저장된 데이터에 대한 검색(인덱싱)과 처리 속도가 빠르며 변경에 용이합니다.
- 산업 표준으로 널리 사용되어 다양한 시스템과의 호환성이 좋으며, 많은 사람들이 사용하는 만큼 관련 자료도 많습니다.

### RDB의 단점 

📋 첫번째로, 대규모 데이터 처리와 트래픽 처리에 어려움을 겪을 수 있습니다. 여기에는 RDB가 Scale-Up 방식만 지원하기 때문입니다.

Scale-Up은 한 대의 서버만 가질 수 있기에 부하에 대해 혼자서 부담해야 합니다.

![db_scale_up_out.png](https://github.com/Euihyunee/euihyunee.github.io/blob/main/_posts/img/db_scale_up_out.png?raw=true)

반면, Scale-Out 방식은 서버를 여러 대 추가하여 시스템을 확장하기에 부하에 대한 부담을 분산할 수 있습니다.

📋 두번째로, 테이블 간 관계를 맺고 있기 때문에 시스템이 커질 경우 복잡한 관계를 가집니다.

📋 세번째로, 정해진 스키마 때문에 데이터가 유연하지 못하여 데이터 구조 변경 시에 어려움을 겪을 수 있습니다.

## NoSQL란?

NoSQL(Not Only SQL)은 RDB와는 다른 형태의 데이터 저장 기술을 의미합니다. 빠르게 변화하는 비즈니스 요구사항에 대응하기 위한 스키마 변경이 자유로운 데이터 모델이 필요하고, 데이터와 트래픽을 분산 처리 가능한 시스템이 필요했습니다. 기존의 RDB로는 한계가 있어, 이를 극복하기 위해 2000년대 후반에 NoSQL이 출시되었습니다.

이름에서 알 수 있듯이 RDB와 반대로 데이터와의 관계가 없습니다. 또한, 데이터베이스에 사용하는 언어는 데이터베이스마다 다를 수 있습니다. 사전에 스키마를 정의하지 않아도 저장될 수 있고, 작업을 진행하는 동시에 데이터를 정의하는 방식으로 빠르게 데이터를 작성하고 반복할 수 있는 능력을 가집니다. 

### NoSQL의 데이터 구조 

NoSQL 데이터베이스는 다양한 데이터 구조를 사용하고, 정해진 스키마가 없거나 유연한 스키마를 사용하여 유연성과 확장성을 가집니다. 

이로 인해 다음과 같은 특징을 가집니다. 

1. 비정규화(Denormalization):  
데이터 중복을 허용하여 조인 연산을 줄이고 조회 성능을 향상시킵니다.
2. 집계(Aggregation):  
관련된 데이터를 하나의 문서나 레코드로 그룹화하여 저장합니다.
3. 애플리케이션 측 조인:  
필요한 경우 애플리케이션 레벨에서 데이터를 조합합니다.

NoSQL 데이터베이스는 대용량 데이터 처리, 높은 확장성, 유연한 데이터 모델을 제공하여 빅데이터 및 실시간 웹 애플리케이션에 적합합니다.

![nosql_structure.png](https://github.com/Euihyunee/euihyunee.github.io/blob/main/_posts/img/nosql_structure.png?raw=true)

#### 키-값(Key-Value)구조

키-값 구조는 가장 단순한 NoSQL 데이터 모델입니다. 각 항목은 키와 값의 쌍으로 저장됩니다. 이 구조는 빠른 읽기/쓰기 연산을 지원하며, 주로 캐싱이나 세션 저장 등에 사용됩니다. 

```json
{
    "user:1001": "John",
    "user:1002": "Jane",
    "product:5001": "SmartPhone"
}
```

주요 데이터베이스: Redis, Amazon DynamoDB

#### 문서(Document) 구조

문서 구조는 JSON이나 BSON과 같은 형식으로 데이터를 저장합니다. 각 문서는 필드의 값과 집합으로 구성되며, 문서 내의 필드를 시용해 쿼리할 수 있습니다.

```json
{
    "_id": 1001,
    "name": "John Doe",
    "email": "john@example.com",
    "address": {
        "street": "123 Main St",
        "city": "New York"
    }
}
```

주요 데이터베이스: MongoDB, CouchDB

#### 컬럼 패밀리(Column Family) 구조

컬럼 패밀리 구조는 행과 열을 사용하지만, 각 행마다 다른 열을 가질 수 있습니다. 하나의 키에 여러 개의 컬럼-값 쌍을 가질 수 있어 Key-Value Store의 확장된 형태로 볼 수 있습니다.

|RowKey|Name|Email|Phone|
|:--|:--|:--|:--|
|1001|John Doe|john@example.com|123-456-7890|
|1002|Jane Smith|jane@example.com||

주요 데이터베이스: Apache Cassandra, HBase

#### 그래프(Graph) 구조

그래프 구조는 노드와 엣지를 사용하여 데이터 간의 관계를 표현합니다. 노드는 개체를, 엣지는 개체 간의 관계를 나타냅니다. 복잡한 관계를 가진 데이터를 효율적으로 저장하고 조회할 수 있습니다.

```text
(John)-[:FRIEND_OF]->(Jane)
(John)-[:WORKS_AT]->(Company)
(Jane)-[:LIVES_IN]->(City)
```

주요 데이터베이스: Neo4j, Amazon Neptune

### NoSQL의 장점

📋 먼저, 유연한 스키마를 제공하기에 다양한 구조의 데이터를 쉽게 저장하고 관리할 수 있습니다. 개발자는 애플리케이션의 중단 없이 데이터 구조를 동적으로 업데이트할 수 있어, 빠르게 변화하는 요구사항에 대응할 수 있습니다.

📋 두 번째로, Scale-Out(수평적 확장)이 용이하여 저비용의 일반 하드웨어를 추가하여 서버를 확장할 수 있습니다. 덕분에 트래픽과 리소스를 분산하여 대규모 데이터 처리에 적합합니다.

📋 세 번째로, 유연한 데이터 모델은 개발 프로세스를 가속화할 수 있습니다. 개발자는 데이터 구조를 사전에 정의할 필요 없이 작업을 시작할 수 있습니다. 데이터 모델을 작업 진행 중에 정의하고 조정할 수 있어, 요구사항 변화에 빠르게 대응할 수 있습니다.


### NoSQL의 단점

📋 먼저, 데이터 일관성입니다. NoSQL은 ACID 속성을 완전히 보장하지 않습니다. 데이터를 분산 저장하기 때문에, 이미 저장된 개별 데이터의 수정이 어렵습니다. 그렇기 때문에 분산 환경에서 모든 데이터 복제본이 즉시 동기화되지 않더라도, 시간이 지나면 결국 모든 노드가 동일한 데이터 상태로 수렴한다는 것을 보장하는 방법인 `Eventual Consistency`을 이용합니다. 이는 일시적인 불일치를 허용하면서 시스템의 가용성과 성능을 향상시키는 방법입니다.

📋 두 번째로, 데이터 중복 문제입니다. NoSQL의 비정규화된 데이터 모델은 데이터 중복을 초래할 수 있습니다. 이는 저장 공간을 더 많이 사용하게 되고, 데이터 업데이트 시 여러 곳을 수정해야 하는 문제를 야기할 수 있습니다. 

## RDB vs NoSQL

위의 설명을 토대로 RDB와 NoSQL의 차이를 아래 표에 나타냈습니다. 일반적인 특성이며, 특정 데이터베이스 시스템에 따라 일부 차이가 있을 수 있습니다.

|구분|RDB|NoSQL|
|:--|:--|:--|
|데이터 모델|테이블 기반의 관계형 모델|다양한 모델(문서, 키-값, 그래프 등)|
|스키마|엄격한 고정 스키마|유연한 스키마 또는 스키마리스|
|확장성|수직적 확장(Scale-Up)|수평적 확장(Scale-Out)|
|쿼리 언어|SQL|데이터베이스에 따라 다양|
|ACID준수|완전히 준수|데이터베이스에 따라 다양|
|데이터 일관성|강한 일관성|일시적 불일치 허용|
|복잡한 쿼리|효율적인 복잡한 쿼리 및 조인 지원|제한적인 쿼리 기능|
|트랜잭션|다중 레코드 트랜잭션 지원|제한적인 트랜잭션 지원|
|데이터 중복|최소화됨|일반적으로 허용됨|
|성능|복잡한 쿼리에 최적화|대량의 단순 읽기/쓰기 작업에 최적화|
|이미 저장된 데이터|비교적 용이함(SQL 사용)|어려움(데이터 중복, 일관성 문제)|
|데이터 구조 수정|어려움(스키마 변경 필요)|용이함(유연한 스키마)|

## 예시 사용 케이스 

### 📜 RDB는 ACID 특성, 복잡한 관계, 데이터의 일관성, 정형화된 데이터 등의 특성 덕분에 다음과 같은 케이스에서 사용됩니다.

✅ 온라인 트랜잭션 처리(OLTP): RDB는 ACID 특성을 보장하여 금융 거래, 주문 처리 등 데이터 무결성이 중요한 트랜잭션 처리에 적합합니다. 

✅ 복잡한 쿼리와 조인이 필요한 경우: 여러 테이블 간의 복잡한 관계를 다루는 비즈니스 로직에 적합합니다. SQL을 사용하여 다양한 테이블을 조인하고 복잡한 쿼리를 실행할 수 있습니다.

✅ 데이터 일관성이 중요한 애플리케이션: 은행 시스템, ERP 시스템 등 데이터 정확성과 일관성이 중요한 애플리케이션에 적합합니다. 

✅ 정형화된 데이터 처리: 미리 정의된 스키마를 가진 정형화된 데이터를 다루는 애플리케이션에 적합합니다.


### 📜 NoSQL은 분산 시스템, 유연한 데이터 모델, 높은 확장성, 빠른 처리 등의 특성으로 다음과 같은 케이스에서 사용됩니다. 

✅ 소셜 미디어 플랫폼: 소셜 미디어 플랫폼은 사용자 프로필, 게시물, 댓글, 좋아요 등 다양한 형태의 데이터를 다룹니다. 높은 확장성의 분산 시스템과 유연한 데이터 모델 덕분에 복잡하고 다양한 데이터를 효율적으로 저장하고 처리할 수 있습니다.

✅ 전자상거래: 전자상거래 플랫폼은 제품 정보, 고객 주문, 재고 관리 등 다양한 데이터를 다루비다. 유연한 제품 카탈로그 관리, 실시간 재고 추적, 개인화된 추천 시스템, 높은 확장성이 요구되는 많큼 NoSQL에서 대규모 트래픽과 데이터를 효율적으로 처리할 수 있습니다.

✅ 실시간 빅데이터 분석: 대규모 데이터의 실시간 분석에 NoSQL 데이터베이스가 활용됩니다. 대량의 구조화되지 않은 비정형의 데이터를 효율적으로 처리할 수 있어 NoSQL이 적합합니다.

## 마치며 

이상으로 RDB와 NoSQL의 주요 특징과 차이점에 대해 알아보았습니다. 두 데이터베이스 시스템은 각각 고유한 장단점을 가지고 있으며, 특정 사용 사례에 더 적합할 수 있습니다.

RDB는 데이터 일관성, 복잡한 쿼리 처리, 그리고 트랜잭션 관리가 중요한 애플리케이션에 적합합니다. 반면 NoSQL은 대규모 데이터 처리, 높은 확장성, 그리고 유연한 데이터 모델이 필요한 경우에 강점을 보입니다.

실제 프로젝트에서는 두 시스템을 함께 사용하는 하이브리드 접근 방식도 흔히 볼 수 있습니다. 이를 통해 각 시스템의 장점을 최대한 활용하면서 애플리케이션의 다양한 요구사항을 충족시킬 수 있습니다.

결론적으로, 데이터베이스 선택은 프로젝트의 특성, 요구사항 등을 종합적으로 고려하여 결정해야 합니다. 각 시스템의 특성을 잘 이해하고 적절히 활용한다면 효율적인 데이터 관리 시스템을 구축할 수 있을 것입니다.