---
title: "[Java] OOP Part4. 접근 제어자란?"
date: 2025-01-13 11:06 +0900
categories: [Java]
tags: [Java, OOP, Access Modifiers, 접근 제어자]
---

> [저번글]()에서는 생성자에 대해 알아보았습니다. 오늘은 Java의 접근 제어자(`access modifiers`)에 대해서 알아보겠습니다. Java의 접근 제어자는 변수, 데이터 멤버, 메서드, 클래스, 생성자의 범위를 지정하는 데 사용하는 키워드입니다. 각각 다른 수준의 접근 제한을 적용하여 클래스와 멤버의 가시성을 세밀하게 제어하여 더 안전하고 유지보수가 용이한 코드를 작성할 수 있습니다. 이 글에서는 접근 제어자에 대해 알아보겠습니다.


## 접근 제어자 소개

접근 제어자는 클래스, 메서드, 변수의 접근 범위를 제한하는 키워드입니다. 접근 제어자를 가지고 객체 지향 프로그래밍의 캡슐화를 구현하고 데이터를 보호하는 것이 주요 목적입니다. 

접근 제어자는 다음과 같은 역활을 합니다.
1. 클래스 내부 데이터를 보호
2. 외부에서의 불필요한 접근 제한
3. 프로그램의 안정성을 향상
4. 코드의 유지보수성 개선

#### 접근 제한자의 종류 

![access_modify_type.png](https://github.com/Euihyunee/euihyunee.github.io/blob/main/_posts/img/access_modify_type.png?raw=true)

자바에서는 4가지 접근 제어자를 제공합니다. 

1. public: 가장 개방적인 접근 제어자로, 어디서든, 접근 가능합니다. 
2. protected: 같은 패키지 내의 클래스 또는 해당 클래스를 상속받은 외부 패키지의 클래스에서 접근 가능합니다.
3. default(package-private): 접근 제어자를 명시하지 않았을 때 적용되며, 같은 패키지 내에서만 접근 가능합니다. 
4. private: 가장 제한적인 접근 제어자로, 해당 클래스 내에서만 접근 가능합니다. 

접근 범위는 다음과 같이 넓어집니다.  
**private < default < protected < public**


## 접근 제어자는 왜 사용할까?

자바의 4가지 접근 제어자는 각각 다른 목적과 용도로 사용됩니다. 객체 지향 프로그래밍의 중요한 원칙인 캡슐화와 정보 은닉을 구현하는 데 필수적입니다. 종류마다의 필요성과 사례에 대해 소개해보자면 다음과 같습니다. 

## private 

privat 접근 제어자는 자바에서 가장 제한적인 접근 수준을 제공하는 접근 제어자입니다. 클래스 내부에서만 접근 가능하기에 외부에서 직접 접근이 불가하여 중요한 데이터를 보호할 수 있습니다. 동시에 외부에서는 직접 접근이 불가하기에 직접 데이터를 수정하는 것을 막아 객체의 일관성을 유지합니다.

또한, private 접근 제어자를 사용하면 자동으로 캡슐화가 보장됩니다. 내부 구현이 보이지 않기에 클래스 내부 구현을 변경해도 외부에 영향을 주지 않으며, 코드의 복잡성도 줄어듭니다.

```java
public class BankAccount {
    private double balance;

    public double getBalance() {
        return balance;
    }
    private void deposit(double amount){
        if(amount > 0){
            balance += amount;
        }
    }
    public void execute(double amount){
        deposit(amount);
    }
}
```

위 예시에서 balance 변수는 private으로 선언되어 외부에서 직접 접근할 수 없습니다. 대신, public 메서드인 getBalance()와 execute()을 통해 잔액을 조회하고 입금할 수 있습니다. 이를 통해 잔액 변경을 제어하고 유효성 검사를 수행할 수 있습니다. 또한 deposit() 메서드를 private 메서드로 구현하고, execute()에서만 호출할 수 있게 하여 내부 구현을 숨기고 인터페이스를 단순화할 수 있습니다.

private 접근 제어자는 다음과 같은 곳에서 주로 사용됩니다.

1. 멤버 변수 선언: 클래스의 내부 상태를 나타내는 멤버 변수들은 주로 private으로 선언합니다. 
2. 내부 메서드: 클래스 내부에서만 사용되는 메서드를 private으로 선언합니다.
3. 특정 생성 패턴을 강제하기 위해 생성자를 private으로 선언할 수 있습니다. 
4. 싱글톤 패턴: 싱글톤 인스턴스를 private stratic으로 선언하여 외부에서의 직접 접근을 막습니다. 

private 접근 제어자는 객체 지향 프로그램밍의 핵심 원칙인 캡슐화를 실현하고, 코드의 안정성과 유지보수성을 크게 향상시킬 수 있습니다. 실제 개발에서는 멤버 변수를 기본적으로 private으로 선언하고, 필요한 경우에만 getter와 setter 메서드를 통해 접근하도록 설계하는 것이 좋은 관행입니다. 

## default(package-private)

default 접근 제어자는 자바에서 명시적으로 접근 제어자를 지정하지 않았을 때 자동으로 적용되는 접근 제어자입니다. 이는 같은 패키지와 같은 클래스에서만 접근이 가능하기에 "package-private" 접근 수준이라고도 불립니다. 

default 접근 제어자는 같은 패키지 내의 클래스들 사이에서만 데이터 공유를 허용하기에 해당 패키지 외부에서로부터 데이터를 보호하고, 불필요한 내부 구현 세부 사항을 감추는 데 도움을 줍니다. 즉, private의 특징에서 범위가 "클래스 -> 패키지"로 변경된 것이 default 접근 제어자의 특징입니다. 

> 클래스에서는 public과 default만 사용할 수 있습니다. 코드의 의도와 사용 범위를 명확히 파악하고, 필요한 최소한의 접근 권한을 부여해야 합니다.

default 접근 제어자는 다음과 같은 곳에서 주로 사용됩니다.

1. 유틸리티 클래스: 패키지 내부에서만 사용되는 유틸리티 클래스에 적용할 수 있습니다.
2. 구현 세부사항: 패키지 내부에서만 사용되는 구현 세부사항을 숨기는 데 사용됩니다. 
3. 패키지 내부 API: 같은 패키지 내의 클래스들 사이에서 공유되어야 하는 메서드나 변수에 사용됩니다.
4. 상수 정의: 패키지 내에서 공유되는 상수를 정의할 때 사용할 수 있습니다.
5. 테스트 코드: 테스트를 위해 패키지 내부에서만 접근 가능한 메서드를 만들 때 사용할 수 있습니다. 

## protected

protected 접근 제어자는 패키지 내부에서는 당연히 접근 가능(default와 동일)하며, 다른 패키지의 자식 클래스에서 접근할 수 있습니다. 부모 클래스의 일부 기능을 자식 클래스에서 사용할 수 있게 하면서도, 외부에서의 직접적인 접근은 제한한다는 특징이 있습니다. 

```java
// animals 패키지 Animal.java
package animals; 

public class Animal {
    protected String name;

    protected void makeSound(){
        System.out.println("animal sound");
    }
}

// animals 패키지 Dog.java
package animals;

public class Dog extends Animal {
    public void bark(){
        // name 필드에 접근 가능(같은 패키지)
        System.out.println(name + " barks");

        // makeSound() 메서드에 접근 가능(같은 패키지)
        makeSound();
    }
}   
// pets 패키지 Cat.java
package pets;

import animals.Animal;

public class Cat extends Animal{
    public void meow(){
        // 다른 패키지지만 상속받았으므로 
        // name 필드에 접근 가능 
        System.out.println(name + " meows");
    }
    // 다른 패키지지만 상속받았으므로 접근 가능
    makeSound();
}
// Main.java
package main;

import animals.Animal;
import animals.Dog;
import pets.Cat;

public class Main{
    public static void main(Stirng[] args) {
        Animal animal = new Animal();
        /* animanl.name = "tiger"; 
        -> 컴파일 에러: name은 protected이므로
        다른 패키지에서 직접 접근 불가
        animal.makeSound();
        -> 컴파일 에러: protected 메서드 접근 불가
        */

       Dog dog = new Dog();
       dog.bark(); // public 정상 작동

       Cat cat = new Cat();
       cat.meow(); // public 정상 작동 
    }
}
```

위 예시는 'Dog' 클래스는 같은 패키지에서 'protected' 멤버에 접근하는 것을 보여주고, 다른 패키지의 'Cat' 클래스는 'Animal'을 상속받아 'protected'에 접근하는 모습을 보여줍니다. 다만 'Main' 클래스에서 'Animal' 객체의 'protected'는 직접 접근할 수 없지만 'Dog'와 'Cat' 객체는 상속을 통해 이 멤버들을 사용할 수 있습니다. 

public 접근 제어자가 실제 개발에서 다음과 같은 곳에서 주로 사용됩니다.


1. 상속을 통한 확장: 기본 클래스의 일부 기능을 자식 클래스에서 재정의하거나 확장할 수 있도록 할 때 사용합니다.
2. 프레임워크 개발: 프레임워크의 핵심 기능을 외부에 노출하지 않으면서도 확장 가능하게 만들 때 활용됩니다.
3. 템플릿 메서드 패턴: 알고리즘의 구조는 유지하면서 특정 단계를 하위 클래스에서 구현할 수 있도록 할 때 사용합니다. 
4. 내부 API 설계: 같은 패키지 내의 관련 클래스들 사이에서 공유해야 하는 기능을 구현할 때 활용됩니다. 
5. 테스트 코드 작성: 단위 테스트를 위해 클래스의 일부 내부 동작에 접근해야 할 때 사용할 수 있습니다. 



## public 

public 접근 제어자를 사용하면 어디에서나 접근 가능합니다. 자바에서 외부에서 객체의 private 멤버에 접근하기 위해서는 해당 객체의 public 메서드를 통해서만 가능합니다. 이는 private 멤버와 외부 사이의 인터페이스(interface)를 의미합니다. 

또한, public으로 선언된 클래스, 메서드, 필드는 어떤 패키지에서든 접근이 가능하기에 다른 개발자나 외부 시스템이 해당 기능을 사용할 수 있습니다. 이는 pubic이 API의 역활을 의미합니다. 프로젝트나 모듈에서 코드의 재사용성이 늘어나고, 사용자는 새로운 기능을 개발하거나 기존 기능을 커스터마이즈할 수 있는 확장성을 제공합니다. 

```java
// Book 클래스
class Book {
    // public 접근 제어자 멤버 변수
    public String title; 
    // private 접근 제어자 멤버 변수 
    private String author;

    public void setAuthor(String author){
        this.author = author;
    }
    public void getAuthor(){
        return this.author;
    }
}

// main 클래스 
public static void main(Stringp[] args) {
    Book book = new Book();
    book.title = "책제목";
    // 사용할 수 없음!
    // book.author = "저자";
    book.setAuthor("저자");

    System.out.println(book.title);
    // 사용할 수 없음
    // System.out.println(book.author);
    System.out.println(book.getAuthor());
}
```

위 예제는 public과 private 멤버 변수를 작성하고, 접근하는 방법을 보여준 예시입니다. public 멤버 변수인 title은 `,`로 접근 가능하지만 private 멤버 변수인 author은 `.`으로 접근이 불가능합니다. 하지만 public 메서드인 setAuthor를 통해 author를 수정할 수 있습니다. 이렇게 public 접근 제어자를 사용함으로써, 외부에서 클래스의 기능을 쉽게 사용할 수 있는 API를 제공할 수 있습니다. 동시에 private 메서드를 통해 내부 구현 세부사항을 숨기고 캡슐화를 유지할 수 있습니다. 

public 접근 제어자가 실제 개발에서 다음과 같은 곳에서 주로 사용됩니다. 

1. API 설계
    - 라이브러리나 프레임워크에서 외부에 공개할 클래스, 메서드, 상수 등을 선언할 때 사용합니다.
    - 다른 개발자들이 사용할 수 있는 공개 인터페이스를 제공할 때 활용됩니다.
2. 클래스 선언
    - 다른 패키지에서도 접근 가능해야 하는 클래스를 선언할 때 사용합니다.
    - 예를 들어, 여러 패키지에서 공통으로 사용되는 유틸리티 클래스들을 public으로 선언합니다.
3. 메서드 선언
    - 외부에서 호출 가능해야 하는 메서드를 선언할 때 사용합니다.
    - getter와 setter 메서드는 주로 public으로 선언됩니다. 
4. 여러 클래스에서 공유해야 하는 상수를 선언할 때 사용합니다. 
5. 인터페이스 선언
    - 인터페이스의 모든 메서드는 기본적으로 public이며, 이를 통해 다른 클래스에서 구현할 수 있게 합니다.

public 접근 제어자를 사용할 때는 캡슐화와 정보 은닉의 원칙을 고려하여, 꼭 필요한 경우에만 사용하는 것이 좋습니다. 불필요하게 많은 요소를 public으로 선언하면 클래스의 내부 구현이 외부에 노출되어 유지보수가 어려워질 수 있습니다. 


## 접근 제어자의 사용 전략

접근 제어자는 객체 지향 설계의 핵심 원칙인 캡슐화를 실현할 수 있습니다. 캡슐화를 위해 접근 제어자의 다양한 전략이 있으며 이에 대해 알아보겠습니다. 

접근 제어자의 기본 규칙이 있습니다. **최소 권한의 원칙**과 **정보 은닉**입니다. 이는 필요한 최소한의 접근 권한만 부여하고 내부 구현을 숨기고 필요한 인터페이스만 노출해야 한다는 규칙입니다. 만일 접근 권한이 필요 이상으로 받는 다면 외부 접근으로 인해 의도치 않은 값을 변경할 수 있기에 객체의 일관성과 무결성이 깨지게 됩니다. 또한 내부 구현이 노출되어 캡슐화를 위반하게 됩니다.

이외에도 클래스, 멤버, 메서드에서의 전략이 있습니다. 이는 위에서 특징들과 범위들에 기본 전략을 적용해본다면 나오는 전략입니다. 정리해보자면 다음과 같습니다.

클래스 레벨 전략
- public: 다른 패키지에서 사용해야 하는 클레스에만 사용합니다. 
- default: 같은 패키지 내에서만 사용되는 클래스에 적용합니다. 

멤버 변수 전략
- private: 대부분의 인스턴스 변수는 private로 선언합니다.
- protected: 상속을 통해 하위 클래스에서 접근해야 하는 경우에만 사용합니다.

메서드 전략
- public: 외부에서 호출되어야 하는 메서드에 사용합니다.
- private: 클래스 내부에서만 사용되는 헬퍼 메서드에 적용합니다.
- protected: 상속을 통해 재정의되어야 하는 메서드에 사용합니다. 

> 이 외에도 설계와 관례상 하는 것들이 있습니다.
> - 데이터 캡슐화: 인스턴스 변수를 private로 선언하고, public getter/setter 메서드를 통해 접근을 제어합니다.
> - 패키지 설계: 관련된 클래스들을 같은 패키지에 묶어 default 접근 제어자를 활용합니다. 
> - 상수 처리: public static final로 선언하여 전역에서 접근 가능한 상수를 정의합니다.
> - 상속 고려: protected를 사용하여 하위 클래스에서의 접근을 허용하면서도 외부에서는 접근을 제한합니다.


## 마치며 

접근 제어자는 Java 프로그래밍에서 객체 지향 설계의 핵심 원칙인 캡슐화와 정보 은닉을 실현하는 중요한 도구입니다. 각 접근 제어자는 고유한 목적과 사용 사례를 가지고 있으며, 이를 적절히 활용하면 코드의 안정성, 유지보수성, 그리고 재사용성을 크게 향상시킬 수 있습니다.

|접근제어자|같은 클래스|같은 패키지|다른 패키지의 자식 클래스|다른 패키지|
|:--|:--:|:--:|:--:|:--:|
|private|O|X|X|X|
|default|O|O|X|X|
|protected|O|O|O|X|
|public|O|O|O|O|

1. private는 클래스 내부에서만 접근 가능하며, 데이터 은닉에 가장 효과적입니다.
2. default는 같은 패키지 내에서만 접근 가능하며, 패키지 레벨의 캡슐화를 제공합니다.
3. protected는 같은 패키지와 하위 클래스에서 접근하며, 상속을 고려한 설계에 유용합니다. 
4. public는 어디서든 접근 가능하며, API 설계나 외부 인터페이스 제공에 사용됩니다.

접근 제어자를 효과적으로 사용하기 위해서는 **최소 권한의 원칙**을 따르고, 각 상황에 맞는 적절한 접근 수준을 선택해야 합니다. 이를 통해 코드의 구조를 더욱 견고하게 만들고, 에기치 않은 외부 접근으로부터 객체의 내부 상태를 보호할 수 있습니다.

마지막으로, 접근 제어자의 올바른 사용은 단순히 문법적인 규칙을 따르는 것을 넘어, 더 나은 객체 지향 설계와 클린 코드 작성의 기초가 됩니다. 이를 통해 더 안전하고, 유지보수가 용이하며, 확장성 있는 Java 프로그램을 개발해보는 것은 어떨까요?