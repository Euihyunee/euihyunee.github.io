---
title: "💬 DNS와 CDN이란"
date: 2025-02-25 09:08 +0900
categories: [CS]
tags: [Network, DNS, CDN]
---

## DNS이란?

DNS(Domain Name System)는 도메인 이름을 IP 주소로 변환하는 시스템입니다. DNS는 사용자에게 복잡한 IP 주소를 기억할 필요 없이 직관적인 이름으로 인터넷 리소스에 접근할 수 있게 해줍니다. DNS 시스템이 백그라운드에서 이름을 IP 주소로 변환하는 복잡한 과정을 처리하므로, 사용자는 이 과정을 신경 쓰지 않아도 됩니다. 

그리고, DNS는 `도메인 네임 스페이스`라고 불리는 계층적 트리 구조로 구성되어 있습니다. 이를 관리하는 체계를 두어 도메인 이름을 체계적으로 관리할 수 있으며 안정성, 효율성,그리고 확장성을 크게 향상시킬 수 있습니다.

### DNS의 주요 기능

1. 도메인 이름과 IP 주소 변환  
DNS의 가장 핵심적인 기능입니다. 위에서 설명드렸듯 사람이 읽을 수 있는 도메인 이름을 컴퓨터가 히해할 수 있는 IP 주소로 변환하는 것입니다. 이를 통해 사용자는 복잡한 IP 주소를 외울 필요 없이 쉽게 기억할 수 있는 도메인 이름으로 웹사이트에 접속할 수 있습니다.
2. 역방향 변환  
DNS는 IP 주소에서 도메인 이름으로의 역변환도 수행합니다. 이를 통해 IP 주소를 가지고 해당 주소에 연결된 도메인 이름을 식별할 수 있습니다.
3. 분산 데이터베이스 관리  
DNS는 전 세계적으로 분산된 네임 서버들로 구성되어 있으며, 이들이 도메인 이름과 IP 주소의 데이터베이스를 관리합니다. 이러한 분산 구조는 시스템의 안정성과 효율성을 높입니다.
4. 캐싱  
DNS는 네임 서버의 부하를 줄이기 위해 캐싱을 사용합니다. 이전에 요청한 도메인 이름에 대한 IP 주소를 일정 기간 저장하여, 다음 요청 시에는 네임 서버에 직접 접근하지 않고 캐시된 정보를 사용합니다. 이를 통해 DNS 쿼리 응답 시간을 단축하고 전체 시스템의 효율성을 향상시킵니다.
5. 네트워크 트래픽 라우팅  
DNS는 웹 애플리케이션으로의 트래픽 라우팅을 관리합니다. 사용자가 도메인 이름을 입력하면, DNS는 여러 단계를 거쳐 최종적으로 해당 웹사이트의 IP 주소를 찾아 사용자를 올바른 목적지로 안내합니다.

### DNS 작동 과정 

![dns_behavior.png](https://github.com/Euihyunee/euihyunee.github.io/blob/main/_posts/img/dns_behavior.png?raw=true)

1. 사용자가 브라우저에 도메인 이름 입력
2. 브라우저는 로컬 DNS 서버에 IP 주소를 요청합니다.
3. 로컬 DNS 서버는 캐시를 확인하고, 정보가 없는 경우 루트 DNS 서버에 쿼리를 보냅니다.
4. 루트 DNS 서버는 해당 도메인의 최상위 도메인(TLD) DNS 서버 정보를 안내합니다.
5. TLD 서버는 해당 도메인의 네임 서버를 안내합니다.
6. 네임서버는 IP 주소를 로컬 DNS 서버로 전달합니다.
7. 로컬 DNS 서버는 브라우저로 IP 주소를 전달하고, 브라우저는 이를 렌더링하여 사용자에게 보여줍니다.

## CDN이란?

CDN(Content Delivery Network)은 지리적으로 분산된 서버 네트워크로, 웹 콘텐츠를 사용자와 가까운 위치에서 제공하여 웹 성능을 향상시킵니다. 네트워크는 거리가 멀수록 데이터 전송 시간이 길어집니다. 실제로 뉴욕과 런던 간(약 5,600km)의 지연 시간은 약 60ms 이상입니다. 또한, 네트워크 혼잡 가능성과 여러 라우팅을 거쳐야 하기에 CDN은 사용자와 가까운 위치에서 이점을 취하기 위한 기술입니다.

그리고 CDN은 DNS와 협력하는 관계입니다. CDN을 사용 중인 웹사이트는 도메인 DNS 설정에 CDN 제공업체의 네임서버가 지정되어 있습니다. 그렇기에 사용자의 Local DNS 서버 IP 주소를 기반으로 사용자의 대략적인 위치를 파악하여 CDN의 DNS 서버는 가까운 위치의 CDN 서버의 IP 주소를 전달할 수 있습니다.

### 주요 기능

1. 콘텐츠 캐싱 및 전송 최적화  
    - 자주 사용되는 콘텐츠를 엣지 서버(사용자와 가까운 네트워크 위치에 배치된 서버)에 저장하여 빠르게 제공
    - 사용자와 가장 가까운 서버에서 콘텐츠를 전송하여 지연 시간 감소
2. 트래픽 관리
    - 로드 밸런싱을 통해 여러 서버 간에 트래픽을 분산하여 과부하 방지
    - 트래픽 급증 상황에서도 웹사이트의 가용성 유지
3. 보안 강화
    - DDos 공격 감지 및 차단
    - SSL/TLS 암호화를 통한 안전한 HTTPS 연결 제공
    - 콘텐츠 무결성 보장 및 지리적 접근 제한 기능
4. 성능 최적화 
    - 동적 콘텐츠 최적화 및 전송
    - 이미지, 비디오 스트리밍 등 미디어 콘텐츠 최적화
    - 콘텐츠 압축을 통한 네트워크 트래픽 감소
    - 페이지 로드 시간 감소 및 대역폭 비용 절감
5. 글로벌 서비스 제공
    - 전 세계 사용자에게 일관된 빠른 응답 속도 제공
    - 지리적으로 분산된 서버 네트워크를 통한 글로벌 커버리지



### CDN 작동 과정

![cdn_behavior.png](https://github.com/Euihyunee/euihyunee.github.io/blob/main/_posts/img/cdn_behavior.png?raw=true)

CDN의 동작 과정은 DNS 동작 과정과 별 차이가 없습니다. 단지 접근한 사이트가 CDN을 사용하고 있다면, 네임서버는 CDN 제공업체의 네임서버입니다. CDN의 네임서버는 사용자의 위치(로컬 DNS 서버 IP 주소)를 고려하여 적절한 CDN 엣지 서버의 IP 주소를 반환합니다.

### CDN의 캐싱

CDN에서는 `static caching`과 `dynamic caching`이라는 두 가지 캐싱 방식을 사용합니다. 

|특성|Static Caching|Dynamic Caching|
|:--|:--|:--|
|콘텐츠 유형|변경이 적은 정적 파일|실시간 생성되는 동적 콘텐츠|
|캐싱 시점|미리 캐싱|요청 시 캐싱|
|복잡도|상대적으로 단순|더 복잡하고 어려움|
|응답 속도|매우 빠름|정적보다는 느림|
|리소스 사용|적음|더 많음|

## 마치며

**✅DNS의 중요성**

- 시스템 설계:  
DNS에 대한 이해는 확장 가능하고 안정적인 시스템을 설계하는 데 필수적입니다. 로드 밸런싱, 서비스 디스커버리 등의 구현에 DNS를 활용할 수 있습니다.

- 성능 최적화:  
DNS 쿼리 시간은 웹 애플리케이션의 전체 로딩 시간에 영향을 미칩니다. DNS 설정을 최적화하여 애플리케이션의 응답 시간을 개선할 수 있습니다.

- 보안:  
DNS 보안 설정(DNSSEC 등)을 통해 DNS 스푸핑과 같은 공격을 방지하고 애플리케이션의 보안을 강화할 수 있습니다.

**✅CDN의 중요성**

- 글로벌 서비스 제공:  
CDN을 활용하면 전 세계 사용자에게 빠르고 안정적인 서비스를 제공할 수 있습니다. 이는 글로벌 시장을 타겟으로 하는 애플리케이션 개발에 필수적입니다.
- 성능 최적화:  
CDN을 통해 정적 자산의 전송 속도를 높이고 원본 서버의 부하를 줄일 수 있어, 전반적인 애플리케이션 성능을 개선할 수 있습니다.
- 비용 효율성:  
CDN을 적절히 활용하면 대역폭 비용을 절감하고 서버 인프라 비용을 최적화할 수 있습니다.

개발자가 DNS와 CDN의 개념을 잘 이해하고 활용한다면, 더 효율적이고 안정적이며 성능이 뛰어난 웹 애플리케이션을 구축할 수 있습니다. 이는 사용자 경험 향상, 비용 절감, 그리고 글로벌 시장에서의 경쟁력 확보로 이어집니다. 따라서 DNS와 CDN에 대한 깊이 있는 이해는 현대 웹 개발자에게 필수적인 역량이라고 할 수 있습니다.