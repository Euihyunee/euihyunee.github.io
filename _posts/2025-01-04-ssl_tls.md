---
title: π’¬SSL/TLSλ€? (μ‘μ„±μ¤‘)
date: 2025-01-03 16:45 +0900
categories: [CS]
tags: [SSL, TLS, ]
---

## SSL/TLS μ†κ° 

HTTPSμ—μ„ λ§μ§€λ§‰μ Sλ” Over Secure Socket Layerμ μ•½μλ΅ λ³΄μ•μ΄ κ°•ν™”λ HTTPμ…λ‹λ‹¤. SSL/TLS κΈ°λ°μΌλ΅ λ™μ‘ν•μ—¬ HTTPS ν†µμ‹ μ„ μ„ν• μ•”νΈν™” λ° μΈμ¦ λ©”μ»¤λ‹μ¦μ„ μ κ³µν•©λ‹λ‹¤.  
μ°λ¦¬κ°€ μ ‘κ·Όν•λ” μ›Ή μ‚¬μ΄νΈκ°€ https://~ λ΅ μ‹μ‘ν•λ‹¤λ©΄, μ›Ή μ„λ²„μ λ³΄μ•μ΄ κ°•ν™”λμ–΄ λ°μ΄ν„° ν†µμ‹ μ΄ μ•μ •μ μΌλ΅ μ „λ‹¬λ¨μ„ μλ―Έν•©λ‹λ‹¤.  

![no_https](![graphql_logo](https://github.com/Euihyunee/euihyunee.github.io/blob/main/_posts/img/no_https.png?raw=true))

#### SSL? TLS λ­κ°€ λ‹¤λ¥Έκ±ΈκΉ?

SSL(Secure Sockets Layer)μ™€ TLS(Transport Layer Secyrity)λ” λ­κ°€ λ‹¤λ¥ΌκΉμ”? 

**κ°™λ‹¤κ³  λ΄λ„ λ¬΄λ°©**ν•©λ‹λ‹¤. TLSλ” SSLμ μ΄λ¦„μ΄ λ°”λ€ κ²ƒμ…λ‹λ‹¤. λ‹Ήμ‹ Netscapeμ™€ Microsoft κ°„μ— μ›Ήμ μ°μ„λ¥Ό μ„ν• μ‹Έμ›€μ΄ μμ—μµλ‹λ‹¤. Microsoftλ¥Ό μ„ν•΄ SSL ν”„λ΅ν† μ½ μ΄λ¦„μ΄ TLSλ΅ λ³€κ²½λμ—μµλ‹λ‹¤. 

> μ΄ κΈ€μ—μ„λ” νΈμμƒ TLSλΌ λ¶€λ¥΄κ² μµλ‹λ‹¤. 

#### TLSμ μ¤‘μ”μ„±

TLSλ” ν„μ¬ κ°€μ¥ λ„λ¦¬ μ‚¬μ©λλ” λ„¤νΈμ›ν¬ λ³΄μ• ν”„λ΅ν† μ½μ…λ‹λ‹¤. TLSλ” OSI λ¨λΈμ μ‘μ© κ³„μΈµκ³Ό μ „μ†΅ κ³„μΈµ μ‚¬μ΄μ—μ„ μ‘λ™ν•λ©° λ‹¤μκ³Ό κ°™μ€ λ³΄μ• κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤. 

- λ°μ΄ν„° μ•”νΈν™” : ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ ν†µμ‹ μ„ μ•”νΈν™”ν•μ—¬ λ°μ΄ν„°μ κΈ°λ°€μ„±μ„ λ³΄μ¥ν•©λ‹λ‹¤. 
- μΈμ¦ : ν†µμ‹  λ‹Ήμ‚¬μμ μ‹ μ›μ„ ν™•μΈν•μ—¬ μ¤‘κ°„μ κ³µκ²©μ„ λ°©μ§€ν•©λ‹λ‹¤. 
- λ°μ΄ν„° λ¬΄κ²°μ„± : μ „μ†΅ μ¤‘ λ°μ΄ν„°μ λ³€μ΅°λ¥Ό λ°©μ§€ν•κ³  νƒμ§€ν•©λ‹λ‹¤. 

## TLSμ μ‘λ™ μ›λ¦¬

TLS ν”„λ΅ν† μ½μ€ μΈν„°λ„· ν†µμ‹ μ λ³΄μ•μ„ μ„ν•΄ `λ€μΉ­ν‚¤`μ™€ `λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”` λ°©μ‹μ„ λ¨λ‘ μ‚¬μ©ν•©λ‹λ‹¤. μ΄ λ‘λ°©μ‹μ μ¥μ μ„ κ²°ν•©ν•μ—¬ μ•μ „ν•κ³  ν¨μ¨μ μΈ ν†µμ‹ μ„ κ°€λ¥ν•κ² ν•©λ‹λ‹¤. 

#### λ€μΉ­ν‚¤ μ•”νΈν™” 

λ€μΉ­ν‚¤ μ•”νΈν™”λ” μ•”νΈν™”μ™€ λ³µνΈν™”μ— λ™μΌν• ν‚¤λ¥Ό μ‚¬μ©ν•λ©° νΉμ§•μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤. 

- μ•”νΈν™”μ™€ λ³µνΈν™”μ— κ°™μ€ ν‚¤λ¥Ό μ‚¬μ©
- λΉ λ¥Έ μ²λ¦¬ μ†λ„
- ν‚¤μ κΈΈμ΄κ°€ μƒλ€μ μΌλ΅ μ§§μ
- κµ¬ν„μ΄ μ‰¬μ›€

**μ¥μ **
- μ•”νΈν™” λ° λ³µνΈν™” μ†λ„κ°€ λΉ λ¦„
- λ€λ‰μ λ°μ΄ν„° μ²λ¦¬μ— μ ν•©

#### λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”

λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ” κ³µκ°ν‚¤μ™€ κ°μΈν‚¤λΌλ” λ‘ κ°μ μ„λ΅ λ‹¤λ¥Έ ν‚¤λ¥Ό μ‚¬μ©ν•λ” λ°©μ‹μ΄λ©° νΉμ§•μ€ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤. 

- μ•”νΈν™”μ™€ λ³µνΈν™”μ— μ„λ΅ λ‹¤λ¥Έ ν‚¤λ¥Ό μ‚¬μ©
- κ³µκ°ν‚¤λ” λ„κµ¬λ‚ μ• μ μμ§€λ§, κ°μΈν‚¤λ” μ†μ μλ§ μ•μ•„μ•Ό ν•¨ 
- μ²λ¦¬ μ†λ„κ°€ λ€μΉ­ν‚¤μ— λΉ„ν•΄ λλ¦Ό

**μ¥μ **
- μ•μ „ν• ν‚¤ κµν™ κ°€λ¥
- μΈμ¦κ³Ό μ•”νΈν™”λ¥Ό λ™μ‹μ— μν–‰ κ°€λ¥
- λ‹¤μ μ‚¬μ©μ κ°„ ν†µμ‹ μ— ν¨κ³Όμ 


#### TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ •

TLS(Transport Layer Security) ν•Έλ“μ…°μ΄ν¬ λ‹¨κ³„λ” ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ κ°„μ— μ „μ†΅λλ” λ°μ΄ν„°κ·Έλ¨ λλ” λ©”μ‹μ§€λ΅ κµ¬μ„±λ©λ‹λ‹¤. 

> ν†µμ‹ μ— μ‚¬μ©ν•  μ•”νΈν™” μ•κ³ λ¦¬μ¦μ— λ”°λΌ TLS ν•Έλ“μ…°μ΄ν¬ κ³Όμ •μ΄ λ‹¬λΌμ§‘λ‹λ‹¤.
{: .prompt-info }

κ³Όμ •μ λ‹¨κ³„λ” λ‹¤μκ³Ό κ°™μµλ‹λ‹¤. 


![tls_handshake](![graphql_logo](https://github.com/Euihyunee/euihyunee.github.io/blob/main/_posts/img/tls_handshake.png?raw=true))

1. ClientHello : ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ—°κ²°μ„ μ‹λ„ν•©λ‹λ‹¤. μ΄ λ©”μ‹μ§€μ—λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ§€μ›ν•λ” TLS λ²„μ „, μ•”νΈν™” μ•κ³ λ¦¬μ¦ λ©λ΅, κ·Έλ¦¬κ³  "ν΄λΌμ΄μ–ΈνΈ λλ¤"μ΄λΌκ³  λ¶λ¦¬λ” μ„μμ λ°”μ΄νΈ λ¬Έμμ—΄μ΄ ν¬ν•¨λ©λ‹λ‹¤. 
2. ServerHello : μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈκ°€ μ μ•ν• μµμ… μ¤‘μ—μ„ μ‚¬μ©ν•  TLS λ²„μ „κ³Ό μ•”νΈν™” μ•κ³ λ¦¬μ¦μ„ μ„ νƒν•μ—¬ μ‘λ‹µν•©λ‹λ‹¤. λν• "μ„λ²„ λλ¤"μ΄λΌλ” λ λ‹¤λ¥Έ μ„μμ λ°”μ΄νΈ λ¬Έμμ—΄μ„ μ „μ†΅ν•©λ‹λ‹¤. 
3. Certificate : μ„λ²„λ” μμ‹ μ λ””μ§€ν„Έ μΈμ¦μ„λ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅ν•©λ‹λ‹¤. μΈμ¦μ„λ” μ„λ²„μ κ³µκ°ν‚¤, λ„λ©”μΈ μ •λ³΄, μΈμ¦ κΈ°κ΄€(CA) μ •λ³΄ λ“±μ΄ ν¬ν•¨λλ©° `CAμ κ°μΈν‚¤(λΉ„λ€μΉ­ν‚¤)`λ΅ μ„λ…λμ–΄ μμµλ‹λ‹¤.
4. ServerKeyExchange : μ„λ²„μ μΈμ¦μ„μ— ν‚¤ κµν™μ— ν•„μ”ν• μ •λ³΄κ°€ λ¶€μ΅±ν• κ²½μ°, μ„λ²„λ” μ¶”κ°€μ μΈ μ •λ³΄(ex: Diffie-Hellman νλΌλ―Έν„°)λ¥Ό μ „μ†΅ν•©λ‹λ‹¤. -> `κ³µκ°ν‚¤(λΉ„λ€μΉ­ν‚¤)` 
5. CertificateRequest : μ„ νƒμ  λ‹¨κ³„λ΅, μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„ μ”κµ¬ν•  κ²½μ° μ΄ λ©”μ‹μ§€λ¥Ό λ³΄λƒ…λ‹λ‹¤.
6. ServerHelloDone : μ„λ²„κ°€ μ΄κΈ° ν•Έλ“μ…°μ΄ν¬ λ©”μ‹μ§€ μ „μ†΅μ„ μ™„λ£ν–μμ„ μ•λ¦½λ‹λ‹¤.
7. Certificate : μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ„ μ”μ²­ν• κ²½μ°, ν΄λΌμ΄μ–ΈνΈλ” μμ‹ μ μΈμ¦μ„λ¥Ό μ „μ†΅ν•©λ‹λ‹¤. -> `ν΄λΌμ΄μ–ΈνΈμ κ³µκ°ν‚¤(λΉ„λ€μΉ­ν‚¤)` 
8. ClientKeyExchange : ν΄λΌμ΄μ–ΈνΈλ” μ„Έμ… ν‚¤ μƒμ„±μ— μ‚¬μ©λ  "FreeMaster Secret"μ„ μƒμ„±ν•κ³ , μ΄λ¥Ό μ„λ²„μ κ³µκ° ν‚¤λ΅ μ•”νΈν™”ν•μ—¬ μ „μ†΅ν•©λ‹λ‹¤. -> `λΉ„λ€μΉ­ν‚¤`
9. CertificateVerify : ν΄λΌμ΄μ–ΈνΈ μΈμ¦μ΄ μ”μ²­λ κ²½μ°, ν΄λΌμ΄μ–ΈνΈλ” μμ‹ μ κ°μΈ ν‚¤λ΅ μ„λ…ν• ν•Έλ“μ…°μ΄ν¬ λ©”μ‹μ§€μ ν•΄μ‹λ¥Ό μ „μ†΅ν•©λ‹λ‹¤. -> `λΉ„λ€μΉ­ν‚¤`
10. ChangeCipherSpec : ν΄λΌμ΄μ–ΈνΈκ°€ μ΄ν›„μ λ¨λ“  λ©”μ‹μ§€λ¥Ό ν‘μƒλ μ„Έμ… ν‚¤λ΅ μ•”νΈν™”ν•  κ²ƒμ„μ„ μ•λ¦½λ‹λ‹¤.
11. Finished : ν΄λΌμ΄μ–ΈνΈλ” μ§€κΈκΉμ§€μ ν•Έλ“μ…°μ΄ν¬ λ©”μ‹μ§€μ— λ€ν• ν•΄μ‹λ¥Ό μ•”νΈν™”ν•μ—¬ μ „μ†΅ν•©λ‹λ‹¤. -> `λ€μΉ­ν‚¤` ν‘μƒλ μ„Έμ… ν‚¤λ΅ μ•”νΈν™”λ ν•Έλ“μ…°μ΄ν¬ λ©”μ‹μ§€ ν•΄μ‹ μ „μ†΅
12. ChangeCipherSpec : μ„λ²„λ„ μ΄ν›„μ λ¨λ“  λ©”μ‹μ§€λ¥Ό μ„Έμ… ν‚¤λ΅ μ•”νΈν™”ν•  κ²ƒμ„μ„ μ•λ¦½λ‹λ‹¤. -> `λ€ν‚Ήν‚¤` ν‘μƒλ μ„Έμ… ν‚¤λ΅ μ•”νΈν™”λ ν•Έλ“μ…°μ΄ν¬ λ©”μ‹μ§€ ν•΄μ‹ μ „μ†΅ 
13. Finished : μ„λ²„λ” ν•Έλ“μ…°μ΄ν¬ λ©”μ‹μ§€μ ν•΄μ‹λ¥Ό μ•”νΈν™”ν•μ—¬ μ „μ†΅ν•©λ‹λ‹¤. -> `λ€μΉ­ν‚¤` ν‘μƒλ μ„Έμ… ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ¨λ“  ν›„μ† ν†µμ‹  μ•”νΈν™” 
14. μ•”νΈν™”λ μ• ν”λ¦¬μΌ€μ΄μ… λ°μ΄ν„° : ν•Έλ“μ…°μ΄ν¬κ°€ μ™„λ£λλ©΄, ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ” ν‘μƒλ μ„Έμ… ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ μ•μ „ν•κ² λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μµλ‹λ‹¤. -> `λ€μΉ­ν‚¤` ν‘μƒλ μ„Έμ… ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ λ¨λ“  ν›„μ† ν†µμ‹  μ•”νΈν™”

μ΄ κ³Όμ •μ„ ν†µν•΄ TLSλ” μ΄κΈ°μ— λΉ„λ€μΉ­ν‚¤ μ•”νΈν™”λ¥Ό μ‚¬μ©ν•μ—¬ μ•μ „ν•κ² ν‚¤λ¥Ό κµν™ν• ν›„, μ‹¤μ  λ°μ΄ν„° ν†µμ‹ μ—λ” λ” ν¨μ¨μ μΈ λ€μΉ­ν‚¤ μ•”νΈν™”λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. 


## TLS κ΄€λ ¨ μ·¨μ•½μ κ³Ό λ€μ‘μ±…

TLSλ” μΈν„°λ„· ν†µμ‹ μ λ³΄μ•μ„ μ„ν•΄ μ‚¬μ©λλ” ν”„λ΅ν† μ½μ΄μ§€λ§, μ·¨μ•½μ κ³Ό ν•κ³„μ μ΄ μ΅΄μ¬ν•©λ‹λ‹¤. μ΄ κΈ€μ—μ„ κ°„λ‹¨ν•κ² μ‚΄ν΄λ³΄κ² μµλ‹λ‹¤. 

μ£Όμ” TLS μ·¨μ•½μ μΌλ΅λ” POODLE, BEAST, CRIME, Heartbleed, Lucky 13 λ“±μ΄ μμΌλ©°, μ΄λ“¤μ€ μ£Όλ΅ μ¤λλ TLS λ²„μ „μ΄λ‚ μλ»λ κµ¬ν„μ—μ„ λ°μƒν•©λ‹λ‹¤. μ΄λ¬ν• μ·¨μ•½μ λ“¤μ€ μ•”νΈν™”λ λ°μ΄ν„°μ ν•΄λ…, λ―Όκ°ν• μ •λ³΄ μ μ¶, μ¤‘κ°„μ κ³µκ²© λ“±μ„ κ°€λ¥ν•κ² λ§λ“¤μ–΄ μ‹¬κ°ν• λ³΄μ• μ„ν‘μ΄ λ  μ μμµλ‹λ‹¤.  

λν• TLSμ€ λ†’μ€ μ§€μ—° μ‹κ°„, κµ¬ν• μ‹μ¤ν…κ³Όμ νΈν™μ„± λ¬Έμ , μµμ‹  TLS 1.3λ²„μ „μ— λ€ν• μ ν•μ μΈ μ§€μ› λ“±μ μ΄μ λ΅ μ–΄μ©” μ μ—†λ” ν•κ³„μ μ΄ μ΅΄μ¬ν•©λ‹λ‹¤. λ³΄μ•κ³Ό ν•κ³„μ λ“¤μ„ ν•΄κ²°ν•κΈ° μ„ν•΄μ„ κ°•λ ¥ν• μ•”νΈ μ¤μ„νΈλ¥Ό μ„ νƒν•κ³ , μ •κΈ°μ μΈ λ³΄μ• μ—…λ°μ΄νΈμ™€ μ·¨μ•½μ  μ¤μΊ” λ“±μ„ μν–‰ν•΄μ•Όν•©λ‹λ‹¤. ν•μ§€λ§ λ κ±°μ‹ μ‹μ¤ν…κ³Όμ νΈν™μ„± μ μ§€, μ—…κ·Έλ μ΄λ“μ— λ”°λ¥Έ λΉ„μ© λ¬Έμ  λ“±μ λ¬Έμ λ΅ μ™„μ „ν• λ³΄μ• κ°•ν™”μ— μ–΄λ ¤μ›€μ΄ μμµλ‹λ‹¤. 

TLS μ·¨μ•½μ  κ΄€λ¦¬λ” λ‹¤λ¥Έ λ³΄μ• μ •μ±…λ“¤μ— λΉ„ν•΄ λ” λ†’μ€ μ°μ„ μμ„λ¥Ό κ°€μ§€κΈ° λ•λ¬Έμ—, μ΄μ— λ€ν• κ΄€λ¦¬λ” ν•„μμ μ…λ‹λ‹¤.

#### λ§μΉλ©°

μ΄μƒμΌλ΅ TLSκ°€ λ™μ‘ν•λ” κ³Όμ •μ— λ€ν•΄ μ‚΄ν΄λ³΄κ³ , μ–΄λ–¤ μ·¨μ•½μ κ³Ό ν•κ³„μ μ΄ μλ”μ§€ μ‚΄ν΄λ³΄μ•μµλ‹λ‹¤.  
TLSλ” ν„λ€ μ›Ή λ³΄μ•μ—μ„ μ¤‘μ”ν• μ„μΉμ— μλ¦¬μ΅κ³  μμµλ‹λ‹¤. μ „μ μƒκ±°λ, μ¨λΌμΈ λ±…ν‚Ή, μ΄λ©”μΌ λ“± λ―Όκ°ν• μ •λ³΄λ¥Ό λ‹¤λ£¨λ” λ¨λ“  μ¨λΌμΈ μ„λΉ„μ¤μ—μ„ ν•„μμ μ…λ‹λ‹¤. λ‹¤μμ—λ” TLSμ μ„¤μ • λ°©λ²•μ— λ€ν•΄ μ†κ°λ“λ¦¬κ² μµλ‹λ‹¤. 