d---
title: "π’¬ TCPμ™€ UDPμ κ°λ… feat. νλ¦„μ μ–΄&νΌμ΅μ μ–΄"
date: 2025-02-24 10:43 +0900
categories: [CS]
tags: [Network, TCP, UDP, Flow Control, Congestion Control]
---

> TCP(Transmission Control Protocol)μ™€ UDP(User Datagram Protocol)λ” μ „μ†΅ κ³„μΈµμ—μ„ μ‚¬μ©λλ” μ£Όμ” ν”„λ΅ν† μ½μ…λ‹λ‹¤. μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµκ³Ό λ„¤νΈμ›ν¬ κ³„μΈµ μ‚¬μ΄μ—μ„ λ°μ΄ν„° μ „μ†΅μ„ λ‹΄λ‹Ήν•©λ‹λ‹¤. μ΄ κΈ€μ—μ„ TCP/UDPμ κ°λ…κ³Ό κ°κ°μ μ—­ν™, νλ¦„ μ μ–΄, νΌμ΅ μ μ–΄ κ·Έλ¦¬κ³  μ–΄λ–¤ λ¶€λ¶„μ—μ„ ν™μ©λλ”μ§€ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

## TCPλ€?

μ„μ HTTP λ™μ‘λ°©μ‹μ—μ„ TCPλ€ κ°λ…μ΄ λ‚μ¨λ‹¤. TCP(Transmission Control Protocol)λ” μ‹ λΆ°μ„± μλ” λ°μ΄ν„°λ¥Ό μ„ν•΄ μ‚¬μ©λλ” ν”„λ΅ν† μ½μ…λ‹λ‹¤. TCP ν†µμ‹  κ³Όμ •μ€ ν¬κ² μ—°κ²° μλ¦½, λ°μ΄ν„° μ „μ†΅, μ—°κ²° μΆ…λ£μ μ„Έ λ‹¨κ³„μΈλ΅ λ‚λ μ μμµλ‹λ‹¤. κ° κ³Όμ •μ— λ€ν•΄ μ•μ•„λ³΄κ² μµλ‹λ‹¤. 

### TCP μ—°κ²°κ³Όμ •(3-way handshake)

TCPμ μ—°κ²°κ³Όμ •μ€ κ°„λ‹¨ν λ§ν•΄, λ‘ μ»΄ν“¨ν„°κ°€ μ•μ „ν•κ² λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›κΈ° μ„ν• μ‚¬μ „ μ‘μ—…μ…λ‹λ‹¤. μ„λ΅λ¥Ό μΈμ‹ν•κ³ , μƒνƒλ¥Ό ν™•μΈν•κ³ , ν•©μν•μ— ν†µμ‹ ν•λ” κ²ƒμ…λ‹λ‹¤. μ΄λ¬ν• κ³Όμ •μ λ©μ μ€ λ‘ μ»΄ν“¨ν„°κ°€ μ•μ „ν•κ³  ν¨μ¨μ μΌλ΅ λ°μ΄ν„°λ¥Ό μ£Όκ³ λ°›μ„ μ μλ” μ—°κ²°μ„ ν†µν•΄ μ›ν™ν•κ² λ°μ΄ν„°λ¥Ό κµν™ν•κΈ° μ„ν•¨μ…λ‹λ‹¤. κ³Όμ •λ³„λ΅ μ„¤λ…ν•μλ©΄ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤. 

<style>
  .img_container_box {
    display: flex;
    flex-wrap: wrap;
  }
  .left-div-example, .right-div-example {
    flex: 1;
    min-width: 300px; /* μµμ† λ„λΉ„ μ„¤μ • */
  }
  .left-div-example img {
    width: 100%;
    height: auto;
  }
  @media (max-width: 768px) {
    .right-div-example {
      flex-basis: 100%;
      order: 2;
    }
  }
</style>

<div class="img_container_box">

  <div class="left-div-example">
    <img src="https://github.com/Euihyunee/euihyunee.github.io/blob/main/_posts/img/tcp_behavior.png?raw=true" alt="tcp_behavior">
  </div>

  <div markdown="1" class="right-div-example">


1οΈβƒ£ **μ—°κ²°(SYN) μ”μ²­:**

- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ—°κ²°μ„ μ”μ²­ν•©λ‹λ‹¤.
- SYN(Synchronize)λΌλ” ν¨ν‚·μ„ λ³΄λ‚΄λ©°, μ΄λ” TCP μ—°κ²°μ„ μ‹μ‘ν•λ” μ‹ νΈλ΅ μ‚¬μ©λ©λ‹λ‹¤.

2οΈβƒ£ **μ—°κ²° μΉμΈ(SYN-ACK):**

- μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ—°κ²° μ”μ²­μ„ μλ½ν•©λ‹λ‹¤.
- ACK(Acknowledgment)λΌλ” ν¨ν‚·μ„ SYNκ³Ό ν•¨κ» λ³΄λ‚΄λ©°, μ—°κ²° μ”μ²­μ„ μΉμΈν•κ³  μ„λ²„κ°€ μ—°κ²°μ„ μ‹μ‘ν•  μ¤€λΉ„κ°€ λμ—μμ„ μ•λ¦¬λ” μ—­ν• μ„ ν•©λ‹λ‹¤.


  </div>

</div>


3οΈβƒ£ μ—°κ²° ν™•λ¦½(ACK):
- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ μ‘λ‹µ(SYN-ACK)μ„ ν™•μΈν•κ³  μ—°κ²°μ„ ν™•λ¦½(`Established` μƒνƒ)ν•©λ‹λ‹¤. 
- μ„λ²„λ„ ν΄λΌμ΄μ–ΈνΈμ ACKλ¥Ό λ°›κ³  μ—°κ²°μ„ ν™•λ¦½(`Established` μƒνƒ)ν•©λ‹λ‹¤.

> `3-way handshake`μ΄ λλ‚κ³  λ‚λ©΄ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ—°κ²°μ΄ μλ¦½λμ–΄ μ‹¤μ  λ°μ΄ν„° μ „μ†΅μ΄ μ‹μ‘λ©λ‹λ‹¤. 
{: .prompt-info }


### μ—°κ²°μΆ…λ£κ³Όμ •(4-way handshake)

`3-way handshake`μ΄ λλ‚κ³  λ°μ΄ν„° μ „μ†΅μ„ λ§μΉ ν›„μ—λ” μ—°κ²°μ„ ν•΄μ ν•΄μ•Ό ν•©λ‹λ‹¤. TCP μ—°κ²° μΆ…λ£ κ³Όμ •μ€ `4-way handshake`λΌκ³  λ¶λ¦¬λ©°, FIN(Finish)μ™€ ACK(Acknowledgement)λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. κ³Όμ •λ³„λ΅ μ„¤λ…ν•μλ©΄ λ‹¤μκ³Ό κ°™μµλ‹λ‹¤.

<div class="img_container_box">
  <div class="left-div-example">
    <img src="https://github.com/Euihyunee/euihyunee.github.io/blob/main/_posts/img/4_way_handshake.png?raw=true" alt="4_way_handshake">
  </div>
  <div markdown="1" class="right-div-example">

1οΈβƒ£ μ—°κ²° μΆ…λ£ μ”μ²­(FIN):

- ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ— μ—°κ²° μΆ…λ£λ¥Ό μ”μ²­ν•©λ‹λ‹¤.
- FINμ€ ν΄λΌμ΄μ–ΈνΈκ°€ λ” μ΄μƒ μ „μ†΅ν•  λ°μ΄ν„°κ°€ μ—†μμ„ μ•λ¦¬λ” ν¨ν‚·μ…λ‹λ‹¤.

2οΈβƒ£ μΆ…λ£ μ”μ²­ ν™•μΈ(ACK):

- μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ(FIN) μΆ…λ£ μ”μ²­μ— λ€ν•΄ ACKλ΅ μ‘λ‹µν•©λ‹λ‹¤.
- ACKλ” μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ—°κ²° μΆ…λ£ μ”μ²­μ„ λ°›μ•μμ„ ν™•μΈν•λ” ν¨ν‚·μ…λ‹λ‹¤.

3οΈβƒ£ μ„λ²„ μΈ΅ μ—°κ²° μΆ…λ£(FIN):

- μ„λ²„κ°€ λ‚¨μ€ λ°μ΄ν„°λ¥Ό λ¨λ‘ μ „μ†΅ν• ν›„ FIN ν¨ν‚·μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μ „μ†΅ν•©λ‹λ‹¤.
- FINμ€ μ„λ²„κ°€ λ” μ΄μƒ μ „μ†΅ν•  λ°μ΄ν„°κ°€ μ—†μΌλ©°, μ—°κ²°μ„ μΆ…λ£ν•  μ¤€λΉ„λ¥Ό λ§μ³¤λ‹¤λ” κ²ƒμ„ μ•λ¦½λ‹λ‹¤.

  </div>
</div>

4οΈβƒ£ μΆ…λ£ ν™•μΈ(ACK):

- ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ FINμ— λ€ν•΄ ACKλ΅ μ‘λ‹µν•©λ‹λ‹¤.
- ACKλ” ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„ μ—°κ²° μΆ…λ£ μ”μ²­μ„ λ°›μ•μμ„ ν™•μΈν•κ³ , ACKλ¥Ό μ„λ²„μ— μ „μ†΅ν•©λ‹λ‹¤. 
- ν΄λΌμ΄μ–ΈνΈλ” TIME_WAIT μƒνƒλ΅ λ“¤μ–΄κ°‘λ‹λ‹¤. λ€κΈ° μ‹κ°„μ΄ λλ‚ ν›„μ— ν΄λΌμ΄μ–ΈνΈλ” μ—°κ²°μ„ μΆ…λ£ν•©λ‹λ‹¤.
- ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ ACKλ¥Ό λ°›μ€ μ„λ²„λ” μ—°κ²°μ„ μΆ…λ£ν•©λ‹λ‹¤.

> `TIME_WAIT`μ€ μ§€μ—°λ ν¨ν‚·μ΄ μƒλ΅μ΄ μ—°κ²°μ— μν–¥μ„ μ£Όλ” κ²ƒμ„ λ°©μ§€ν•κΈ° μ„ν•΄ μ‚¬μ©ν•©λ‹λ‹¤. λν• λ§μ§€λ§‰ ACKκ°€ μ†μ‹¤λ κ²½μ° μ¬μ „μ†΅ν•  μ μλ” κΈ°νλ¥Ό μ κ³µν•©λ‹λ‹¤. ACKκ°€ μ„λ²„μ— λ„λ‹¬ν•μ§€ μ•λ”λ‹¤λ©΄ μ„λ²„λ” μ—°κ²° μΆ…λ£λ¥Ό ν•μ§€ μ•λ” κ²ƒμ„ λ°©μ§€ν•κΈ° μ„ν•΄ μ‚¬μ©ν•©λ‹λ‹¤.

μ΄λ ‡κ² HTTPλ” μ›Ή λΈλΌμ°μ €μ™€ μ›Ή μ„λ²„ κ°„μ μ‹ λΆ°μ„± μλ” λ°μ΄ν„° μ „μ†΅μ„ μ„ν•΄ TCP ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•©λ‹λ‹¤. λν• HTTPμ—μ„ μ„±λ¥μ„ ν–¥μƒμ‹ν‚¤λ” λ°©λ²•μ€ TCPμ—μ„ λΉ„λ΅―λ κ²ƒλ“¤μ΄ λ§μµλ‹λ‹¤(μ§€μ† μ—°κ²°, TCP μµμ ν™”, λ²„νΌ κ΄€λ¦¬ λ“±). λ”°λΌμ„ μ›Ή κ°λ°μ—μ„ λ°λ“μ‹ μ•μ•„μ•Όν•λ” κ°λ…μ΄λΌκ³  μƒκ°ν•©λ‹λ‹¤.

### TCP μ—­ν™


## UDPλ€

### UDP λ™μ‘λ°©μ‹

### UDP μ—­ν™

